<html layout:decorate="~{global/layout}" xmlns:layout="http://www.w3.org/1999/xhtml">

<div layout:fragment="content" class="p-2">
<form th:action method="POST" onsubmit="submitJoinForm(this); return false;" class="flex flex-col items-center gap-4">
    <div class="form-control w-full max-w-xs">
        <div class="label">
            <span>ID</span>
        </div>
        <input type="text" name="memberName" placeholder="ID을 입력해주세요." class="input input-bordered w-full max-w-xs">
    </div>
    <div class="form-control w-full max-w-xs">
        <div class="label">
            <span>Password</span>
        </div>
        <input type="password" name="memberPassword" placeholder="password를 입력해주세요." class="input input-bordered w-full max-w-xs">
    </div>
    <div class="form-control w-full max-w-xs">
        <div class="label">
            <span>Email</span>
        </div>
        <input type="email" name="memberEmail" placeholder="Email를 입력해주세요." class="input input-bordered w-full max-w-xs">
    </div>
    <button class="btn btn-accent w-full max-w-xs" type="submit">Sign Up</button>
</form>
</div>
<script layout:fragment="script">
    function submitJoinForm(form){
        const inputUserName = form.memberName;
        const inputPassword = form.memberPassword;
        const inputEmail = form.memberEmail;

        inputUserName.value = inputUserName.value.trim();
        inputPassword.value = inputPassword.value.trim();
        inputEmail.value = inputEmail.value.trim();

        const memberName = inputUserName.value;
        const memberPassword = inputPassword.value;
        const memberEmail = inputEmail.value;

        if (memberName.length == 0){
            alert("ID를 입력해주세요.")
            inputUserName.focus();
            return;
        }

        if (memberPassword.length == 0){
            alert("Password를 입력해주세요.")
            inputPassword.focus();
            return;
        }

        if (memberEmail.length == 0){
            alert("Email을 입력해주세요.")
            inputEmail.focus();
            return;
        }

        form.submit();
    }
</script>
</html>