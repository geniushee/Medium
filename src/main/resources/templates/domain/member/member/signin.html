<html layout:decorate="~{global/layout}" xmlns:layout="http://www.w3.org/1999/xhtml">

<body>
<div layout:fragment="content">
    <script th:if="${param.error}">
        alert("ID 및 비밀번호가 일치하지 않습니다. \nID와 비밀번호를 확인해 주세요.")
    </script>
    <form th:action class="flex flex-col items-center gap-4" onsubmit="submitJoinForm(this)"
    method="POST">
        <label class="form-control w-full max-w-xs">
            <div class="label">
                <span class="label-text">ID</span>
            </div>
            <input type="text" name="memberName" placeholder="ID를 입력해주세요."
                   class="input input-bordered w-full max-w-xs"/>
        </label>
        <label class="form-control w-full max-w-xs">
            <div class="label">
                <span class="label-text">Password</span>
            </div>
            <input type="password" name="memberPassword" placeholder="Password를 입력해주세요."
                   class="input input-bordered w-full max-w-xs"/>
        </label>
        <button class="btn btn-accent w-full max-w-xs" type="submit">Sign In</button>
    </form>
</div>
<script layout:fragment="script">
    function submitJoinForm(form){
        const inputUserName = form.memberName;
        const inputPassword = form.memberPassword;

        inputUserName.value = inputUserName.value.trim();
        inputPassword.value = inputPassword.value.trim();

        const memberName = inputUserName.value;
        const memberPassword = inputPassword.value;

        if (memberName.length == 0){
            alert("ID를 입력해주세요.")
            inputUserName.focus();
            return;
        }

        if (memberPassword.length == 0){
            alert("Password를 입력해주세요.")
            inputPassword.focus();
            return;
        }

        form.submit();
    }
</script>
</body>
</html>